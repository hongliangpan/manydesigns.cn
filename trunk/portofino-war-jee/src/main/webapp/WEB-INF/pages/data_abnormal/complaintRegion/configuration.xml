<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration database="riil_its_board" legend="state" name="客户投诉情况--区域" orientation="VERTICAL" query="SELECT c_x, c_y, c_value, c_x_label, c_y_label FROM(&#xD;&#xA;(SELECT '未投诉客户数' c_x,c_region3 c_y,COUNT(0) c_value,'未投诉客户数' c_x_label,c_region3 c_y_label&#xD;&#xA;FROM t_customer &#xD;&#xA;WHERE  c_region3 IN (SELECT c_region3 FROM t_customer_complaint cc INNER JOIN t_customer c ON cc.c_customer_id= c.c_id) &#xD;&#xA;AND c_id NOT IN (SELECT c_customer_id FROM t_customer_complaint ) AND 1=1&#xD;&#xA;GROUP BY c_region3)&#xD;&#xA;UNION ALL&#xD;&#xA;(SELECT '投诉客户数' c_x,c_region3 c_y,COUNT(cc.c_customer_id+cc.c_complaint_id) c_value,'投诉客户数' c_x_label,c_region3 c_y_label &#xD;&#xA;FROM t_customer_complaint cc&#xD;&#xA;INNER JOIN t_customer c ON cc.c_customer_id=c.c_id&#xD;&#xA;INNER JOIN t_dict_complaint d ON d.c_id=cc.c_complaint_id&#xD;&#xA;WHERE 1=1&#xD;&#xA;GROUP BY c.c_region3 )&#xD;&#xA;) mm&#xD;&#xA;ORDER BY mm.c_y ,mm.c_x ,mm. c_value DESC" type="STACKED_BAR_3D" urlExpression=""/>
